<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Paula</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    background: black;
    overflow: hidden;
    cursor: none;
  }
  canvas {
    position: fixed;
    top: 0;
    left: 0;
    display: block;
  }
</style>
</head>

<body>
<canvas id="canvas"></canvas>

<script>
(() => {
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  function resize() {
    canvas.width = innerWidth;
    canvas.height = innerHeight;
  }
  resize();
  addEventListener("resize", resize);

  const TEXTO = "Paula üíñ";
  const FRASES = [
    "Te quiero",
    "Te adoro",
    "Te aprecio",
    "Me importas",
    "Sos especial",
    "Te pienso",
    "Me haces feliz"
  ];

  let tiempo = 0;
  const particulas = [];
  const frases = [];

  // ===== PART√çCULA =====
  class Particula {
    constructor(x, y, color = "hotpink") {
      this.x = x;
      this.y = y;
      this.vx = (Math.random() - 0.5) * 3;
      this.vy = (Math.random() - 0.5) * 3;
      this.size = Math.random() * 2 + 1;
      this.life = Math.random() * 80 + 60;
      this.color = color;
    }
    update() {
      this.x += this.vx;
      this.y += this.vy;
      this.life--;
    }
    draw() {
      ctx.fillStyle = this.color;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fill();
    }
  }

  // ===== FRASE =====
  class Frase {
    constructor(x, y, texto) {
      this.x = x;
      this.y = y;
      this.texto = texto;
      this.alpha = 1;
      this.timer = 0;
    }
    update() {
      this.y -= 0.3;
      this.alpha -= 0.01;
      this.timer++;
      if (this.alpha <= 0) {
        // Explosi√≥n
        for (let i = 0; i < 30; i++) {
          particulas.push(new Particula(this.x, this.y, "pink"));
        }
        return false;
      }
      return true;
    }
    draw() {
      ctx.save();
      ctx.globalAlpha = this.alpha;
      ctx.fillStyle = "pink";
      ctx.font = "28px Arial";
      ctx.textAlign = "center";
      ctx.shadowColor = "hotpink";
      ctx.shadowBlur = 20;
      ctx.fillText(this.texto, this.x, this.y);
      ctx.restore();
    }
  }

  // ===== MOUSE =====
  addEventListener("mousemove", e => {
    for (let i = 0; i < 2; i++) {
      particulas.push(new Particula(e.clientX, e.clientY));
    }
  });

  addEventListener("click", e => {
    const t = FRASES[Math.floor(Math.random() * FRASES.length)];
    frases.push(new Frase(e.clientX, e.clientY, t));
  });

  // ===== LOOP =====
  function animate() {
    tiempo += 0.03;

    ctx.fillStyle = "rgba(0,0,0,0.25)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // ===== TEXTO LATIENDO =====
    const escala = 1 + Math.sin(tiempo) * 0.05;
    ctx.save();
    ctx.translate(canvas.width / 2, canvas.height / 2);
    ctx.scale(escala, escala);
    ctx.fillStyle = "hotpink";
    ctx.font = "48px Arial";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.shadowColor = "hotpink";
    ctx.shadowBlur = 30;
    ctx.fillText(TEXTO, 0, 0);
    ctx.restore();

    // ===== FRASES =====
    for (let i = frases.length - 1; i >= 0; i--) {
      if (!frases[i].update()) {
        frases.splice(i, 1);
      } else {
        frases[i].draw();
      }
    }

    // ===== PART√çCULAS =====
    for (let i = particulas.length - 1; i >= 0; i--) {
      particulas[i].update();
      particulas[i].draw();
      if (particulas[i].life <= 0) particulas.splice(i, 1);
    }

    // ===== GLITCH SUAVE =====
    if (Math.random() < 0.04) {
      const y = Math.random() * canvas.height;
      const h = Math.random() * 30 + 5;
      ctx.drawImage(
        canvas,
        0, y, canvas.width, h,
        Math.random() * 20 - 10, y, canvas.width, h
      );
    }

    requestAnimationFrame(animate);
  }

  animate();
})();
</script>
</body>
</html>
